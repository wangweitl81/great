java_binary(
  name = "embedded-jetty-jsp-exec",
  main_class = "org.eclipse.jetty.demo.Main", 
  resources = glob(["src/main/resources/**/*"]),
  srcs = glob([]),
  runtime_deps = [
    "//src/main/java/com/acme",
    "//src/main/java/org/eclipse/jetty/demo",  
    "transitive-deps",
    ]
)

java_library(
    name = "transitive-deps",
    visibility = ["//visibility:public"],
    exports = [
        "@org/eclipse/jetty/apache-jstl//jar",
        "@org/eclipse/jetty/jetty-plus//jar",
        "@org/apache/taglibs/taglibs-standard-spec//jar",
        "@org/mortbay/jasper/apache-jsp//jar",
        "@org/apache/tomcat/tomcat-api//jar",
        "@org/eclipse/jetty/jetty-webapp//jar",
        "@org/eclipse/jdt/core/compiler/ecj//jar",
        "@org/eclipse/jetty/orbit/org/eclipse/jdt/core//jar",
        "@org/apache/tomcat/tomcat-juli//jar",
        "@org/apache/tomcat/tomcat-jasper//jar",
        "@org/eclipse/jetty/jetty-io//jar",
        "@org/mortbay/jasper/apache-el//jar",
        "@org/apache/ant/ant//jar",
        "@org/apache/tomcat/tomcat-util//jar",
        "@org/eclipse/jetty/jetty-security//jar",
        "@org/apache/taglibs/taglibs-standard-impl//jar",
        "@org/apache/tomcat/tomcat-jasper-el//jar",
        "@org/apache/ant/ant-launcher//jar",
        "@org/ow2/asm/asm-tree//jar",
        "@org/apache/tomcat/tomcat-util-scan//jar",
        "@org/eclipse/jetty/jetty-xml//jar",
        "@org/eclipse/jetty/toolchain/jetty-schemas//jar",
        "@org/eclipse/jetty/jetty-jmx//jar",
        "@org/apache/tomcat/tomcat-servlet-api//jar",
        "@org/eclipse/jetty/jetty-servlet//jar",
        "@javax/servlet/javax/servlet-api//jar",
        "@org/eclipse/jetty/jetty-server//jar",
        "@org/eclipse/jetty/apache-jsp//jar",
        "@org/ow2/asm/asm-commons//jar",
        "@org/ow2/asm/asm//jar",
        "@org/eclipse/jetty/jetty-jndi//jar",
        "@org/eclipse/jetty/jetty-annotations//jar",
        "@javax/annotation/javax/annotation-api//jar",
        "@org/apache/tomcat/tomcat-el-api//jar",
        "@org/apache/tomcat/tomcat-jsp-api//jar",
        "@org/eclipse/jetty/jetty-util//jar",
        "@org/eclipse/jetty/jetty-http//jar",
    ],
)
